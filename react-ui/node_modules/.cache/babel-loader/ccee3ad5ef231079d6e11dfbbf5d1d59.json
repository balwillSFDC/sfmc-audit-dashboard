{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from 'react';\nimport findIndex from 'lodash.findindex';\nimport SwatchOption from './swatch-option';\nimport KEYS from '../../../utilities/key-code';\nimport EventUtil from '../../../utilities/event';\nimport { DIRECTIONS } from '../../utilities/UNSAFE_direction';\nimport LanguageDirection from '../../utilities/UNSAFE_direction/private/language-direction';\n\nvar SwatchPicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(SwatchPicker, _React$Component);\n\n  var _super = _createSuper(SwatchPicker);\n\n  function SwatchPicker(_props) {\n    var _this;\n\n    _classCallCheck(this, SwatchPicker);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"selectPreviousColor\", function (event, props) {\n      var index = findIndex(props.swatchColors, function (item) {\n        return item === props.color.hex;\n      });\n      var nextIndex = index === -1 || index === props.swatchColors.length - 1 ? 0 : index + 1;\n      var prevColor = props.swatchColors[nextIndex];\n      props.onSelect(event, {\n        hex: prevColor\n      });\n\n      _this.swatchColorRefs[prevColor].focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectNextColor\", function (event, props) {\n      var index = findIndex(props.swatchColors, function (item) {\n        return item === props.color.hex;\n      });\n      var prevIndex;\n\n      if (index === 0) {\n        prevIndex = props.swatchColors.length - 1;\n      } else if (index === -1) {\n        prevIndex = 0;\n      } else {\n        prevIndex = index - 1;\n      }\n\n      var nextColor = props.swatchColors[prevIndex];\n      props.onSelect(event, {\n        hex: nextColor\n      });\n\n      _this.swatchColorRefs[nextColor].focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event, props) {\n      var _keyDownCallbacks;\n\n      var keyDownCallbacks = (_keyDownCallbacks = {}, _defineProperty(_keyDownCallbacks, KEYS.RIGHT, function () {\n        if (props.direction === DIRECTIONS.RTL) {\n          _this.selectNextColor(event, props);\n        } else {\n          _this.selectPreviousColor(event, props);\n        }\n      }), _defineProperty(_keyDownCallbacks, KEYS.DOWN, function () {\n        _this.selectPreviousColor(event, props);\n      }), _defineProperty(_keyDownCallbacks, KEYS.LEFT, function () {\n        if (props.direction === DIRECTIONS.RTL) {\n          _this.selectPreviousColor(event, props);\n        } else {\n          _this.selectNextColor(event, props);\n        }\n      }), _defineProperty(_keyDownCallbacks, KEYS.UP, function () {\n        _this.selectNextColor(event, props);\n      }), _keyDownCallbacks);\n\n      if (event.keyCode) {\n        if (keyDownCallbacks[event.keyCode]) {\n          EventUtil.trapEvent(event);\n          keyDownCallbacks[event.keyCode]();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addRef\", function (color) {\n      return function (el) {\n        _this.swatchColorRefs[color] = el;\n      };\n    });\n\n    _this.swatchColorRefs = {};\n    return _this;\n  }\n\n  _createClass(SwatchPicker, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var isSelectedColorInSwatch = this.props.swatchColors.includes(this.props.color.hex);\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"slds-color-picker__swatches\",\n        role: \"listbox\",\n        onKeyDown: function onKeyDown(event) {\n          _this2.handleKeyDown(event, _objectSpread({}, _this2.props));\n        }\n      }, this.props.swatchColors.map(function (color, index) {\n        return /*#__PURE__*/React.createElement(SwatchOption, {\n          color: color,\n          key: color,\n          labels: _this2.props.labels,\n          onSelect: _this2.props.onSelect,\n          swatchOptionRef: _this2.addRef(color),\n          workingColor: _this2.props.color,\n          tabIndex: _this2.props.color && _this2.props.color.hex === color || index === 0 && !isSelectedColorInSwatch ? 0 : -1\n        });\n      }));\n    }\n  }]);\n\n  return SwatchPicker;\n}(React.Component);\n\n_defineProperty(SwatchPicker, \"displayName\", 'SLDSSwatchPicker');\n\nexport default LanguageDirection(SwatchPicker);","map":{"version":3,"sources":["../../../../.tmp-es/components/color-picker/private/swatch-picker.jsx"],"names":["SwatchPicker","React","Component","index","findIndex","props","item","nextIndex","prevColor","hex","prevIndex","nextColor","keyDownCallbacks","KEYS","DIRECTIONS","event","EventUtil","isSelectedColorInSwatch","LanguageDirection"],"mappings":"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","sourcesContent":["import React from 'react';\nimport findIndex from 'lodash.findindex';\n\nimport SwatchOption from './swatch-option';\nimport KEYS from '../../../utilities/key-code';\nimport EventUtil from '../../../utilities/event';\n\nimport { DIRECTIONS } from '../../utilities/UNSAFE_direction';\nimport LanguageDirection from '../../utilities/UNSAFE_direction/private/language-direction';\n\nclass SwatchPicker extends React.Component {\n\tstatic displayName = 'SLDSSwatchPicker';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.swatchColorRefs = {};\n\t}\n\n\tselectPreviousColor = (event, props) => {\n\t\tconst index = findIndex(\n\t\t\tprops.swatchColors,\n\t\t\t(item) => item === props.color.hex\n\t\t);\n\t\tconst nextIndex =\n\t\t\tindex === -1 || index === props.swatchColors.length - 1 ? 0 : index + 1;\n\t\tconst prevColor = props.swatchColors[nextIndex];\n\t\tprops.onSelect(event, {\n\t\t\thex: prevColor,\n\t\t});\n\n\t\tthis.swatchColorRefs[prevColor].focus();\n\t};\n\n\tselectNextColor = (event, props) => {\n\t\tconst index = findIndex(\n\t\t\tprops.swatchColors,\n\t\t\t(item) => item === props.color.hex\n\t\t);\n\t\tlet prevIndex;\n\t\tif (index === 0) {\n\t\t\tprevIndex = props.swatchColors.length - 1;\n\t\t} else if (index === -1) {\n\t\t\tprevIndex = 0;\n\t\t} else {\n\t\t\tprevIndex = index - 1;\n\t\t}\n\t\tconst nextColor = props.swatchColors[prevIndex];\n\t\tprops.onSelect(event, {\n\t\t\thex: nextColor,\n\t\t});\n\n\t\tthis.swatchColorRefs[nextColor].focus();\n\t};\n\n\thandleKeyDown = (event, props) => {\n\t\tconst keyDownCallbacks = {\n\t\t\t[KEYS.RIGHT]: () => {\n\t\t\t\tif (props.direction === DIRECTIONS.RTL) {\n\t\t\t\t\tthis.selectNextColor(event, props);\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectPreviousColor(event, props);\n\t\t\t\t}\n\t\t\t},\n\t\t\t[KEYS.DOWN]: () => {\n\t\t\t\tthis.selectPreviousColor(event, props);\n\t\t\t},\n\n\t\t\t[KEYS.LEFT]: () => {\n\t\t\t\tif (props.direction === DIRECTIONS.RTL) {\n\t\t\t\t\tthis.selectPreviousColor(event, props);\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectNextColor(event, props);\n\t\t\t\t}\n\t\t\t},\n\t\t\t[KEYS.UP]: () => {\n\t\t\t\tthis.selectNextColor(event, props);\n\t\t\t},\n\t\t};\n\n\t\tif (event.keyCode) {\n\t\t\tif (keyDownCallbacks[event.keyCode]) {\n\t\t\t\tEventUtil.trapEvent(event);\n\t\t\t\tkeyDownCallbacks[event.keyCode]();\n\t\t\t}\n\t\t}\n\t};\n\n\taddRef = (color) => (el) => {\n\t\tthis.swatchColorRefs[color] = el;\n\t};\n\n\trender() {\n\t\tconst isSelectedColorInSwatch = this.props.swatchColors.includes(\n\t\t\tthis.props.color.hex\n\t\t);\n\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tclassName=\"slds-color-picker__swatches\"\n\t\t\t\trole=\"listbox\"\n\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\tthis.handleKeyDown(event, {\n\t\t\t\t\t\t...this.props,\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.swatchColors.map((color, index) => (\n\t\t\t\t\t<SwatchOption\n\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\tkey={color}\n\t\t\t\t\t\tlabels={this.props.labels}\n\t\t\t\t\t\tonSelect={this.props.onSelect}\n\t\t\t\t\t\tswatchOptionRef={this.addRef(color)}\n\t\t\t\t\t\tworkingColor={this.props.color}\n\t\t\t\t\t\ttabIndex={\n\t\t\t\t\t\t\t(this.props.color && this.props.color.hex === color) ||\n\t\t\t\t\t\t\t(index === 0 && !isSelectedColorInSwatch)\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: -1\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport default LanguageDirection(SwatchPicker);\n"]},"metadata":{},"sourceType":"module"}