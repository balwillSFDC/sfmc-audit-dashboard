{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n// Implements the [Files design pattern](https://lightningdesignsystem.com/components/files/) in React.\n// Based on SLDS v2.4.0\n\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames'; // ### shortid\n// [npmjs.com/package/shortid](https://www.npmjs.com/package/shortid)\n// shortid is a short, non-sequential, url-friendly, unique id generator\n\nimport shortid from 'shortid';\nimport { FILES_FILE } from '../../utilities/constants';\nimport FileFigure from './private/file-figure';\nimport FileActions from './private/file-actions';\nvar displayName = FILES_FILE;\nvar propTypes = {\n  /**\n   * **Assistive text for accessibility**\n   *  * download - description for the download button if present\n   *  * image - description for the file image\n   *  * link - description for the file link\n   *  * loading - description for the loading spinner if present\n   *  * moreActions - description for the more actions dropdown if present\n   */\n  assistiveText: PropTypes.shape({\n    download: PropTypes.string,\n    image: PropTypes.string,\n    link: PropTypes.string,\n    loading: PropTypes.string,\n    moreActions: PropTypes.string\n  }),\n\n  /**\n   * CSS class names to be added to the container element. `array`, `object`, or `string` are accepted.\n   */\n  className: PropTypes.oneOfType([PropTypes.array, PropTypes.object, PropTypes.string]),\n\n  /**\n   * Controls different cropping aspect ratios for the component\n   */\n  crop: PropTypes.oneOf(['16-by-9', '4-by-3', '1-by-1']),\n\n  /**\n   * HTML id for component.\n   */\n  id: PropTypes.string,\n\n  /**\n   * Action to be done on clicking download button; doesn't show download button if empty\n   */\n  onClickDownload: PropTypes.func,\n\n  /**\n   * Function that is called when image is clicked; can be used instead of href for more advanced event handling\n   */\n  onClickImage: PropTypes.func,\n\n  /**\n   * Dropdown for more actions button; doesn't show more actions button if empty\n   */\n  moreActionsDropdown: PropTypes.node,\n\n  /**\n   * Icon associated with the file. Accepts an Icon component\n   */\n  icon: PropTypes.node,\n\n  /**\n   * Icon to be shown in top left corner of File component. Accepts an Icon component\n   */\n  externalIcon: PropTypes.node,\n\n  /**\n   * Link to thumbnail image\n   */\n  image: PropTypes.string,\n\n  /**\n   * Controls whether file preview is loading\n   */\n  isLoading: PropTypes.bool,\n\n  /**\n   * Href attribute for image\n   */\n  href: PropTypes.string,\n\n  /**\n   * Labels for the File Component\n   * * image - title for the file. Required.\n   */\n  labels: PropTypes.shape({\n    title: PropTypes.string.isRequired\n  }),\n\n  /**\n   *  Controls whether the file's title should be visible\n   */\n  hasNoVisibleTitle: PropTypes.bool\n};\nvar defaultProps = {\n  assistiveText: {\n    download: 'download',\n    link: 'Preview:',\n    loading: 'loading',\n    moreActions: 'more actions'\n  },\n  crop: '16-by-9',\n  href: '#',\n  isLoading: false,\n  hasNoVisibleTitle: false\n};\n/**\n * File is a component that represents content uploaded as an attachment.\n */\n\nvar File = /*#__PURE__*/function (_React$Component) {\n  _inherits(File, _React$Component);\n\n  var _super = _createSuper(File);\n\n  _createClass(File, null, [{\n    key: \"injectMoreActionsStyles\",\n    value: function injectMoreActionsStyles() {\n      return /*#__PURE__*/React.createElement(\"style\", null, \"\\n\\t\\t\\t\\t\\t.dsr-file__more-actions-dropdown  ul.dropdown__list li.slds-dropdown__item > a:before\\n\\t\\t\\t\\t\\t{ background: none; }\\n\\t\\t\\t\\t\\t.dsr-file__more-actions-dropdown  ul.dropdown__list li.slds-dropdown__item > a:after\\n\\t\\t\\t\\t\\t{ background: none; }\\n\\t\\t\\t\\t\\t.dsr-file__more-actions > button:first-child\\n\\t\\t\\t\\t\\t{ border-radius: 0 0.25rem 0.25rem 0!important;}\\n\\t\\t\\t\");\n    }\n  }]);\n\n  function File(props) {\n    var _this;\n\n    _classCallCheck(this, File);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnClickImage\", function (event) {\n      if (_this.props.href === '#') {\n        event.preventDefault();\n      }\n\n      if (_this.props.onClickImage) {\n        _this.props.onClickImage(event);\n      }\n    });\n\n    _this.generatedId = shortid.generate();\n    return _this;\n  }\n  /**\n   * Get the File's HTML id. Generate a new one if no ID present.\n   */\n\n\n  _createClass(File, [{\n    key: \"getId\",\n    value: function getId() {\n      return this.props.id || this.generatedId;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var assistiveText = _objectSpread(_objectSpread({}, defaultProps.assistiveText), this.props.assistiveText);\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: this.getId(),\n        className: classNames('slds-file', 'slds-file_card', !this.props.hasNoVisibleTitle ? 'slds-has-title' : null, this.props.className)\n      }, /*#__PURE__*/React.createElement(\"figure\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: this.props.href,\n        className: classNames('slds-file__crop', this.props.crop ? \"slds-file__crop_\".concat(this.props.crop) : null),\n        onClick: this.handleOnClickImage\n      }, /*#__PURE__*/React.createElement(FileFigure, {\n        assistiveText: assistiveText,\n        labels: {\n          title: this.props.labels.title\n        },\n        isLoading: this.props.isLoading,\n        image: this.props.image,\n        icon: this.props.icon\n      })), !this.props.hasNoVisibleTitle ? /*#__PURE__*/React.createElement(\"figcaption\", {\n        className: \"slds-file__title slds-file__title_card\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slds-media__figure slds-line-height_reset\"\n      }, this.props.icon ? /*#__PURE__*/React.cloneElement(this.props.icon, {\n        size: 'x-small'\n      }) : null), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slds-media__body\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"slds-file__text slds-truncate\",\n        title: this.props.labels.title\n      }, this.props.labels.title))) : null), this.props.externalIcon ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slds-file__external-icon\"\n      }, /*#__PURE__*/React.cloneElement(this.props.externalIcon, {\n        containerClassName: 'slds-file__icon slds-icon_container'\n      })) : null, this.props.moreActionsDropdown ? File.injectMoreActionsStyles() : null, /*#__PURE__*/React.createElement(FileActions, {\n        assistiveText: assistiveText,\n        hasNoVisibleTitle: this.props.hasNoVisibleTitle,\n        onClickDownload: this.props.onClickDownload,\n        moreActionsDropdown: this.props.moreActionsDropdown\n      }));\n    }\n  }]);\n\n  return File;\n}(React.Component);\n\nFile.displayName = displayName;\nFile.propTypes = propTypes;\nFile.defaultProps = defaultProps;\nexport default File;","map":{"version":3,"sources":["../../../.tmp-es/components/files/file.jsx"],"names":["displayName","propTypes","assistiveText","download","PropTypes","image","link","loading","moreActions","string","className","crop","id","onClickDownload","onClickImage","moreActionsDropdown","icon","externalIcon","isLoading","href","labels","title","isRequired","hasNoVisibleTitle","bool","defaultProps","File","React","Component","shortid","event","classNames","handleOnClickImage","size","containerClassName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// Implements the [Files design pattern](https://lightningdesignsystem.com/components/files/) in React.\n// Based on SLDS v2.4.0\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\n// ### shortid\n// [npmjs.com/package/shortid](https://www.npmjs.com/package/shortid)\n// shortid is a short, non-sequential, url-friendly, unique id generator\nimport shortid from 'shortid';\nimport { FILES_FILE } from '../../utilities/constants';\n\nimport FileFigure from './private/file-figure';\nimport FileActions from './private/file-actions';\n\nconst displayName = FILES_FILE;\n\nconst propTypes = {\n\t/**\n\t * **Assistive text for accessibility**\n\t *  * download - description for the download button if present\n\t *  * image - description for the file image\n\t *  * link - description for the file link\n\t *  * loading - description for the loading spinner if present\n\t *  * moreActions - description for the more actions dropdown if present\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tdownload: PropTypes.string,\n\t\timage: PropTypes.string,\n\t\tlink: PropTypes.string,\n\t\tloading: PropTypes.string,\n\t\tmoreActions: PropTypes.string,\n\t}),\n\t/**\n\t * CSS class names to be added to the container element. `array`, `object`, or `string` are accepted.\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Controls different cropping aspect ratios for the component\n\t */\n\tcrop: PropTypes.oneOf(['16-by-9', '4-by-3', '1-by-1']),\n\t/**\n\t * HTML id for component.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * Action to be done on clicking download button; doesn't show download button if empty\n\t */\n\tonClickDownload: PropTypes.func,\n\t/**\n\t * Function that is called when image is clicked; can be used instead of href for more advanced event handling\n\t */\n\tonClickImage: PropTypes.func,\n\t/**\n\t * Dropdown for more actions button; doesn't show more actions button if empty\n\t */\n\tmoreActionsDropdown: PropTypes.node,\n\t/**\n\t * Icon associated with the file. Accepts an Icon component\n\t */\n\ticon: PropTypes.node,\n\t/**\n\t * Icon to be shown in top left corner of File component. Accepts an Icon component\n\t */\n\texternalIcon: PropTypes.node,\n\t/**\n\t * Link to thumbnail image\n\t */\n\timage: PropTypes.string,\n\t/**\n\t * Controls whether file preview is loading\n\t */\n\tisLoading: PropTypes.bool,\n\t/**\n\t * Href attribute for image\n\t */\n\thref: PropTypes.string,\n\t/**\n\t * Labels for the File Component\n\t * * image - title for the file. Required.\n\t */\n\tlabels: PropTypes.shape({\n\t\ttitle: PropTypes.string.isRequired,\n\t}),\n\t/**\n\t *  Controls whether the file's title should be visible\n\t */\n\thasNoVisibleTitle: PropTypes.bool,\n};\n\nconst defaultProps = {\n\tassistiveText: {\n\t\tdownload: 'download',\n\t\tlink: 'Preview:',\n\t\tloading: 'loading',\n\t\tmoreActions: 'more actions',\n\t},\n\tcrop: '16-by-9',\n\thref: '#',\n\tisLoading: false,\n\thasNoVisibleTitle: false,\n};\n/**\n * File is a component that represents content uploaded as an attachment.\n */\nclass File extends React.Component {\n\tstatic injectMoreActionsStyles() {\n\t\treturn (\n\t\t\t<style>{`\n\t\t\t\t\t.dsr-file__more-actions-dropdown  ul.dropdown__list li.slds-dropdown__item > a:before\n\t\t\t\t\t{ background: none; }\n\t\t\t\t\t.dsr-file__more-actions-dropdown  ul.dropdown__list li.slds-dropdown__item > a:after\n\t\t\t\t\t{ background: none; }\n\t\t\t\t\t.dsr-file__more-actions > button:first-child\n\t\t\t\t\t{ border-radius: 0 0.25rem 0.25rem 0!important;}\n\t\t\t`}</style>\n\t\t);\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.generatedId = shortid.generate();\n\t}\n\n\t/**\n\t * Get the File's HTML id. Generate a new one if no ID present.\n\t */\n\tgetId() {\n\t\treturn this.props.id || this.generatedId;\n\t}\n\n\thandleOnClickImage = (event) => {\n\t\tif (this.props.href === '#') {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (this.props.onClickImage) {\n\t\t\tthis.props.onClickImage(event);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst assistiveText = {\n\t\t\t...defaultProps.assistiveText,\n\t\t\t...this.props.assistiveText,\n\t\t};\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={this.getId()}\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t'slds-file',\n\t\t\t\t\t'slds-file_card',\n\t\t\t\t\t!this.props.hasNoVisibleTitle ? 'slds-has-title' : null,\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<figure>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={this.props.href}\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'slds-file__crop',\n\t\t\t\t\t\t\tthis.props.crop ? `slds-file__crop_${this.props.crop}` : null\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonClick={this.handleOnClickImage}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FileFigure\n\t\t\t\t\t\t\tassistiveText={assistiveText}\n\t\t\t\t\t\t\tlabels={{\n\t\t\t\t\t\t\t\ttitle: this.props.labels.title,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tisLoading={this.props.isLoading}\n\t\t\t\t\t\t\timage={this.props.image}\n\t\t\t\t\t\t\ticon={this.props.icon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</a>\n\t\t\t\t\t{!this.props.hasNoVisibleTitle ? (\n\t\t\t\t\t\t<figcaption className=\"slds-file__title slds-file__title_card\">\n\t\t\t\t\t\t\t<div className=\"slds-media__figure slds-line-height_reset\">\n\t\t\t\t\t\t\t\t{this.props.icon\n\t\t\t\t\t\t\t\t\t? React.cloneElement(this.props.icon, {\n\t\t\t\t\t\t\t\t\t\t\tsize: 'x-small',\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"slds-media__body\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"slds-file__text slds-truncate\"\n\t\t\t\t\t\t\t\t\ttitle={this.props.labels.title}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.props.labels.title}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t) : null}\n\t\t\t\t</figure>\n\t\t\t\t{this.props.externalIcon ? (\n\t\t\t\t\t<div className=\"slds-file__external-icon\">\n\t\t\t\t\t\t{React.cloneElement(this.props.externalIcon, {\n\t\t\t\t\t\t\tcontainerClassName: 'slds-file__icon slds-icon_container',\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t\t{this.props.moreActionsDropdown ? File.injectMoreActionsStyles() : null}\n\t\t\t\t<FileActions\n\t\t\t\t\tassistiveText={assistiveText}\n\t\t\t\t\thasNoVisibleTitle={this.props.hasNoVisibleTitle}\n\t\t\t\t\tonClickDownload={this.props.onClickDownload}\n\t\t\t\t\tmoreActionsDropdown={this.props.moreActionsDropdown}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nFile.displayName = displayName;\nFile.propTypes = propTypes;\nFile.defaultProps = defaultProps;\n\nexport default File;\n"]},"metadata":{},"sourceType":"module"}