{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n// Implements the [Expression Condition design pattern](https://lightningdesignsystem.com/components/expression/) in React.\n\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport assign from 'lodash.assign'; // ### shortid\n// [npmjs.com/package/shortid](https://www.npmjs.com/package/shortid)\n// shortid is a short, non-sequential, url-friendly, unique id generator\n\nimport shortid from 'shortid';\nimport { EXPRESSION_CONDITION } from '../../utilities/constants';\nimport Combobox from '../combobox';\nimport Input from '../input';\nimport Button from '../button';\nvar propTypes = {\n  /**\n   *  **Assistive text for accessibility.**\n   * * `title`: For users of assistive technology, title for the condition fieldset. Defaults to 'Condition'\n   * * `deleteIcon`: For users of assistive technology, assistive text for the Delete Condition button's icon. Defaults to 'Delete Condition'\n   */\n  assistiveText: PropTypes.shape({\n    title: PropTypes.string,\n    deleteIcon: PropTypes.string\n  }),\n\n  /**\n   * HTML id for component.\n   */\n  id: PropTypes.string,\n\n  /**\n   * CSS classes to be added to the element with class `.slds-expression__row`. Uses `classNames` [API](https://github.com/JedWatson/classnames).\n   */\n  className: PropTypes.oneOfType([PropTypes.array, PropTypes.object, PropTypes.string]),\n\n  /**\n   * Callbacks for various expression condition events such as value change, delete etc\n   */\n  events: PropTypes.shape({\n    onChangeResource: PropTypes.func,\n    onChangeOperator: PropTypes.func,\n    onChangeValue: PropTypes.func,\n    onDelete: PropTypes.func\n  }).isRequired,\n\n  /**\n   * If set to true, the component will focus on the first focusable input upon mounting. This is useful for accessibility when adding new conditions.\n   */\n  focusOnMount: PropTypes.bool,\n\n  /**\n   * **Text labels for internationalization**\n   * This object is merged with the default props object on every\n   * * `deleteCondition`: Title for the delete condition button. Defaults to \"Delete Condition\".\n   * * `label`: Label for the condition, shown left-most in the row. Left empty on default.\n   * * `operator`: Label for the operator selection dropdown. Defaults to \"Operator\"\n   * * `resource`: Label for the resource selection dropdown. Defaults to \"Resource\"\n   * * `value`: Label for the value input box. Defaults to \"Value\"\n   */\n  labels: PropTypes.shape({\n    deleteCondition: PropTypes.string,\n    label: PropTypes.string,\n    operator: PropTypes.string,\n    resource: PropTypes.string,\n    value: PropTypes.string\n  }),\n\n  /**\n   * Controls whether the condition is a sub-condition inside a ExpressionGroup\n   */\n  isSubCondition: PropTypes.bool,\n\n  /**\n   * **Array of item objects that are options in the resource selection dropdown menu.**\n   * Each object can contain:\n   * * `id`: A unique identifier string.\n   * * `label`: A primary string of text for a menu item.\n   * ```\n   * {\n   * \tid: '1',\n   * \tlabel: 'Resource 1',\n   * },\n   * ```\n   * Note: The dropdown uses the Combobox Component, and `resourcesList` is\n   * passed as `options` props to it, and hence shall also support more\n   * custom objects. Please refer to the Combobox documentation.\n   */\n  resourcesList: PropTypes.arrayOf(PropTypes.object),\n\n  /**\n   *  Accepts an object from the `resourcesList` which needs to be selected\n   *  for the resource dropdown menu,\n   */\n  resourceSelected: PropTypes.object,\n\n  /**\n   * **Array of item objects that are options in the operator selection dropdown menu.**\n   * Each object can contain:\n   * * `id`: A unique identifier string.\n   * * `label`: A primary string of text for a menu item.\n   * ```\n   * {\n   * \tid: '1',\n   * \tlabel: 'Operator 1',\n   * },\n   * ```\n   * Note: The dropdown uses the Combobox Component, and `operatorList` is\n   * passed as `options` props to it, and hence shall also support more\n   * custom objects. Please refer to the Combobox documentation.\n   */\n  operatorsList: PropTypes.arrayOf(PropTypes.object),\n\n  /**\n   *  Accepts an object from the `operatorSelected` which needs to be selected\n   *  for the operator dropdown menu,\n   */\n  operatorSelected: PropTypes.object,\n\n  /**\n   *  Sets the input value for the Value input field.\n   */\n  value: PropTypes.string\n};\nvar defaultProps = {\n  assistiveText: {\n    title: 'Condition',\n    deleteIcon: 'Delete Condition'\n  },\n  labels: {\n    label: '',\n    operator: 'Operator',\n    resource: 'Resource',\n    value: 'Value',\n    deleteCondition: 'Delete Condition'\n  },\n  value: ''\n};\n/**\n * Expression Condition Component\n */\n\nvar ExpressionCondition = /*#__PURE__*/function (_React$Component) {\n  _inherits(ExpressionCondition, _React$Component);\n\n  var _super = _createSuper(ExpressionCondition);\n\n  function ExpressionCondition(props) {\n    var _this;\n\n    _classCallCheck(this, ExpressionCondition);\n\n    _this = _super.call(this, props);\n    _this.generatedId = shortid.generate();\n    return _this;\n  }\n\n  _createClass(ExpressionCondition, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.focusOnMount && this.rootNode) {\n        var input = this.rootNode.querySelector('input');\n\n        if (input) {\n          input.focus();\n        }\n      }\n    }\n    /**\n     * Get the Expression Condition's HTML id. Generate a new one if no ID present.\n     */\n\n  }, {\n    key: \"getId\",\n    value: function getId() {\n      return this.props.id || this.generatedId;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var assistiveText = assign({}, defaultProps.assistiveText, this.props.assistiveText);\n      var labels = assign({}, defaultProps.labels, this.props.labels);\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: classNames(\"slds-expression__row\", {\n          'slds-expression__row_group': this.props.isSubCondition\n        }, this.props.className),\n        id: this.getId(),\n        ref: function ref(rootNode) {\n          _this2.rootNode = rootNode;\n        }\n      }, /*#__PURE__*/React.createElement(\"fieldset\", null, /*#__PURE__*/React.createElement(\"legend\", {\n        className: \"slds-expression__legend\"\n      }, /*#__PURE__*/React.createElement(\"span\", null, labels.label), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"slds-assistive-text\"\n      }, assistiveText.title)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slds-grid slds-gutters_xx-small\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slds-col\"\n      }, /*#__PURE__*/React.createElement(Combobox, {\n        events: {\n          onSelect: this.props.events.onChangeResource\n        },\n        id: \"\".concat(this.getId(), \"-resource-selector\"),\n        multiple: false,\n        variant: \"readonly\",\n        labels: {\n          label: labels.resource\n        },\n        options: this.props.resourcesList,\n        selection: [this.props.resourceSelected]\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slds-col slds-grow-none\"\n      }, /*#__PURE__*/React.createElement(Combobox, {\n        events: {\n          onSelect: this.props.events.onChangeOperator\n        },\n        id: \"\".concat(this.getId(), \"-operator-selector\"),\n        multiple: false,\n        variant: \"readonly\",\n        labels: {\n          label: labels.operator\n        },\n        options: this.props.operatorsList,\n        selection: [this.props.operatorSelected],\n        singleInputDisabled: !this.props.resourceSelected\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slds-col\"\n      }, /*#__PURE__*/React.createElement(Input, {\n        id: \"\".concat(this.getId(), \"-input\"),\n        label: labels.value,\n        value: this.props.value,\n        onChange: this.props.events.onChangeValue,\n        disabled: !this.props.resourceSelected\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slds-col slds-grow-none\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slds-form-element\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"slds-form-element__label\"\n      }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"slds-form-element__control\"\n      }, /*#__PURE__*/React.createElement(Button, {\n        id: \"\".concat(this.getId(), \"-delete-button\"),\n        variant: \"outline-brand\",\n        iconCategory: \"utility\",\n        iconName: \"delete\",\n        iconVariant: \"border-filled\",\n        onClick: this.props.events.onDelete,\n        assistiveText: {\n          icon: assistiveText.deleteIcon\n        },\n        title: labels.deleteCondition\n      })))))));\n    }\n  }]);\n\n  return ExpressionCondition;\n}(React.Component);\n\nExpressionCondition.displayName = EXPRESSION_CONDITION;\nExpressionCondition.propTypes = propTypes;\nExpressionCondition.defaultProps = defaultProps;\nexport default ExpressionCondition;","map":{"version":3,"sources":["../../../.tmp-es/components/expression/condition.jsx"],"names":["propTypes","assistiveText","title","PropTypes","deleteIcon","string","id","className","events","onChangeResource","onChangeOperator","onChangeValue","onDelete","func","focusOnMount","labels","deleteCondition","label","operator","resource","value","isSubCondition","resourcesList","resourceSelected","operatorsList","operatorSelected","defaultProps","ExpressionCondition","React","Component","shortid","input","assign","classNames","onSelect","icon"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// Implements the [Expression Condition design pattern](https://lightningdesignsystem.com/components/expression/) in React.\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport assign from 'lodash.assign';\n\n// ### shortid\n// [npmjs.com/package/shortid](https://www.npmjs.com/package/shortid)\n// shortid is a short, non-sequential, url-friendly, unique id generator\nimport shortid from 'shortid';\n\nimport { EXPRESSION_CONDITION } from '../../utilities/constants';\n\nimport Combobox from '../combobox';\nimport Input from '../input';\nimport Button from '../button';\n\nconst propTypes = {\n\t/**\n\t *  **Assistive text for accessibility.**\n\t * * `title`: For users of assistive technology, title for the condition fieldset. Defaults to 'Condition'\n\t * * `deleteIcon`: For users of assistive technology, assistive text for the Delete Condition button's icon. Defaults to 'Delete Condition'\n\t */\n\tassistiveText: PropTypes.shape({\n\t\ttitle: PropTypes.string,\n\t\tdeleteIcon: PropTypes.string,\n\t}),\n\t/**\n\t * HTML id for component.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * CSS classes to be added to the element with class `.slds-expression__row`. Uses `classNames` [API](https://github.com/JedWatson/classnames).\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Callbacks for various expression condition events such as value change, delete etc\n\t */\n\tevents: PropTypes.shape({\n\t\tonChangeResource: PropTypes.func,\n\t\tonChangeOperator: PropTypes.func,\n\t\tonChangeValue: PropTypes.func,\n\t\tonDelete: PropTypes.func,\n\t}).isRequired,\n\t/**\n\t * If set to true, the component will focus on the first focusable input upon mounting. This is useful for accessibility when adding new conditions.\n\t */\n\tfocusOnMount: PropTypes.bool,\n\t/**\n\t * **Text labels for internationalization**\n\t * This object is merged with the default props object on every\n\t * * `deleteCondition`: Title for the delete condition button. Defaults to \"Delete Condition\".\n\t * * `label`: Label for the condition, shown left-most in the row. Left empty on default.\n\t * * `operator`: Label for the operator selection dropdown. Defaults to \"Operator\"\n\t * * `resource`: Label for the resource selection dropdown. Defaults to \"Resource\"\n\t * * `value`: Label for the value input box. Defaults to \"Value\"\n\t */\n\tlabels: PropTypes.shape({\n\t\tdeleteCondition: PropTypes.string,\n\t\tlabel: PropTypes.string,\n\t\toperator: PropTypes.string,\n\t\tresource: PropTypes.string,\n\t\tvalue: PropTypes.string,\n\t}),\n\t/**\n\t * Controls whether the condition is a sub-condition inside a ExpressionGroup\n\t */\n\tisSubCondition: PropTypes.bool,\n\t/**\n\t * **Array of item objects that are options in the resource selection dropdown menu.**\n\t * Each object can contain:\n\t * * `id`: A unique identifier string.\n\t * * `label`: A primary string of text for a menu item.\n\t * ```\n\t * {\n\t * \tid: '1',\n\t * \tlabel: 'Resource 1',\n\t * },\n\t * ```\n\t * Note: The dropdown uses the Combobox Component, and `resourcesList` is\n\t * passed as `options` props to it, and hence shall also support more\n\t * custom objects. Please refer to the Combobox documentation.\n\t */\n\tresourcesList: PropTypes.arrayOf(PropTypes.object),\n\t/**\n\t *  Accepts an object from the `resourcesList` which needs to be selected\n\t *  for the resource dropdown menu,\n\t */\n\tresourceSelected: PropTypes.object,\n\t/**\n\t * **Array of item objects that are options in the operator selection dropdown menu.**\n\t * Each object can contain:\n\t * * `id`: A unique identifier string.\n\t * * `label`: A primary string of text for a menu item.\n\t * ```\n\t * {\n\t * \tid: '1',\n\t * \tlabel: 'Operator 1',\n\t * },\n\t * ```\n\t * Note: The dropdown uses the Combobox Component, and `operatorList` is\n\t * passed as `options` props to it, and hence shall also support more\n\t * custom objects. Please refer to the Combobox documentation.\n\t */\n\toperatorsList: PropTypes.arrayOf(PropTypes.object),\n\t/**\n\t *  Accepts an object from the `operatorSelected` which needs to be selected\n\t *  for the operator dropdown menu,\n\t */\n\toperatorSelected: PropTypes.object,\n\t/**\n\t *  Sets the input value for the Value input field.\n\t */\n\tvalue: PropTypes.string,\n};\n\nconst defaultProps = {\n\tassistiveText: {\n\t\ttitle: 'Condition',\n\t\tdeleteIcon: 'Delete Condition',\n\t},\n\tlabels: {\n\t\tlabel: '',\n\t\toperator: 'Operator',\n\t\tresource: 'Resource',\n\t\tvalue: 'Value',\n\t\tdeleteCondition: 'Delete Condition',\n\t},\n\tvalue: '',\n};\n/**\n * Expression Condition Component\n */\nclass ExpressionCondition extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.generatedId = shortid.generate();\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.focusOnMount && this.rootNode) {\n\t\t\tconst input = this.rootNode.querySelector('input');\n\t\t\tif (input) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get the Expression Condition's HTML id. Generate a new one if no ID present.\n\t */\n\tgetId() {\n\t\treturn this.props.id || this.generatedId;\n\t}\n\n\trender() {\n\t\tconst assistiveText = assign(\n\t\t\t{},\n\t\t\tdefaultProps.assistiveText,\n\t\t\tthis.props.assistiveText\n\t\t);\n\t\tconst labels = assign({}, defaultProps.labels, this.props.labels);\n\t\treturn (\n\t\t\t<li\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t`slds-expression__row`,\n\t\t\t\t\t{ 'slds-expression__row_group': this.props.isSubCondition },\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t\tid={this.getId()}\n\t\t\t\tref={(rootNode) => {\n\t\t\t\t\tthis.rootNode = rootNode;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<fieldset>\n\t\t\t\t\t<legend className=\"slds-expression__legend\">\n\t\t\t\t\t\t<span>{labels.label}</span>\n\t\t\t\t\t\t<span className=\"slds-assistive-text\">{assistiveText.title}</span>\n\t\t\t\t\t</legend>\n\t\t\t\t\t<div className=\"slds-grid slds-gutters_xx-small\">\n\t\t\t\t\t\t<div className=\"slds-col\">\n\t\t\t\t\t\t\t<Combobox\n\t\t\t\t\t\t\t\tevents={{\n\t\t\t\t\t\t\t\t\tonSelect: this.props.events.onChangeResource,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tid={`${this.getId()}-resource-selector`}\n\t\t\t\t\t\t\t\tmultiple={false}\n\t\t\t\t\t\t\t\tvariant=\"readonly\"\n\t\t\t\t\t\t\t\tlabels={{ label: labels.resource }}\n\t\t\t\t\t\t\t\toptions={this.props.resourcesList}\n\t\t\t\t\t\t\t\tselection={[this.props.resourceSelected]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"slds-col slds-grow-none\">\n\t\t\t\t\t\t\t<Combobox\n\t\t\t\t\t\t\t\tevents={{\n\t\t\t\t\t\t\t\t\tonSelect: this.props.events.onChangeOperator,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tid={`${this.getId()}-operator-selector`}\n\t\t\t\t\t\t\t\tmultiple={false}\n\t\t\t\t\t\t\t\tvariant=\"readonly\"\n\t\t\t\t\t\t\t\tlabels={{ label: labels.operator }}\n\t\t\t\t\t\t\t\toptions={this.props.operatorsList}\n\t\t\t\t\t\t\t\tselection={[this.props.operatorSelected]}\n\t\t\t\t\t\t\t\tsingleInputDisabled={!this.props.resourceSelected}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"slds-col\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid={`${this.getId()}-input`}\n\t\t\t\t\t\t\t\tlabel={labels.value}\n\t\t\t\t\t\t\t\tvalue={this.props.value}\n\t\t\t\t\t\t\t\tonChange={this.props.events.onChangeValue}\n\t\t\t\t\t\t\t\tdisabled={!this.props.resourceSelected}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"slds-col slds-grow-none\">\n\t\t\t\t\t\t\t<div className=\"slds-form-element\">\n\t\t\t\t\t\t\t\t<span className=\"slds-form-element__label\">&nbsp;</span>\n\t\t\t\t\t\t\t\t<div className=\"slds-form-element__control\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tid={`${this.getId()}-delete-button`}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline-brand\"\n\t\t\t\t\t\t\t\t\t\ticonCategory=\"utility\"\n\t\t\t\t\t\t\t\t\t\ticonName=\"delete\"\n\t\t\t\t\t\t\t\t\t\ticonVariant=\"border-filled\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.props.events.onDelete}\n\t\t\t\t\t\t\t\t\t\tassistiveText={{\n\t\t\t\t\t\t\t\t\t\t\ticon: assistiveText.deleteIcon,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttitle={labels.deleteCondition}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\nExpressionCondition.displayName = EXPRESSION_CONDITION;\nExpressionCondition.propTypes = propTypes;\nExpressionCondition.defaultProps = defaultProps;\n\nexport default ExpressionCondition;\n"]},"metadata":{},"sourceType":"module"}